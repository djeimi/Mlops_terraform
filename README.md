# Mlops_terraform

Этот проект предназначен для автоматизации создания и управления облачным хранилищем в Yandex Cloud с помощью Terraform.

## Структура проекта

- **main.tf** — основной файл конфигурации Terraform, определяет провайдера и подключает модуль для создания bucket.
- **variables.tf** — переменные для настройки инфраструктуры (имя bucket, ACL, класс хранения и др.).
- **outputs.tf** — выводит значения после применения инфраструктуры (например, имя созданного bucket).
- **modules/storage_bucket/** — модуль Terraform для создания и настройки Yandex Cloud Storage Bucket.
  - **main.tf** — описание ресурса `yandex_storage_bucket`.
  - **variables.tf** — переменные модуля.
  - **outputs.tf** — выводит имя созданного bucket.
  - **providers.tf** — определяет используемого провайдера.
- **.terraform/** — служебная директория Terraform.
- **.terraform.lock.hcl** — lock-файл для провайдеров.
- **key.json** — файл с ключом доступа (не хранится в git).
- **.gitignore** — исключает чувствительные и служебные файлы из git.

## Используемые переменные

- `zone` — зона размещения ресурсов Yandex Cloud.
- `bucket_name` — имя создаваемого bucket.
- `bucket_acl` — уровень доступа к bucket (например, private).
- `storage_class` — класс хранения (например, STANDARD).
- `allow_anonymous_read` — разрешить анонимное чтение.
- `allow_anonymous_listing` — разрешить анонимный просмотр содержимого bucket.

## Быстрый старт

1. **Установите Terraform** (https://www.terraform.io/downloads.html).
2. **Создайте сервисный аккаунт и получите ключ** в Yandex Cloud, сохраните его как `key.json`.
3. **Инициализируйте проект:**
   ```sh
   terraform init
   ```
4. **Примените инфраструктуру:**
   ```sh
   terraform apply
   ```
   Подтвердите выполнение, чтобы создать bucket.

## Безопасность

- Не добавляйте `key.json` и файлы состояния (`*.tfstate`) в систему контроля версий.
- Все чувствительные данные должны храниться вне репозитория.

## Описание модулей

Модуль [`modules/storage_bucket`](modules/storage_bucket/) создает Yandex Cloud Storage Bucket с параметрами, заданными через переменные. Поддерживается настройка ACL, класса хранения и анонимного доступа.

## Выводы

После применения инфраструктуры выводится имя созданного bucket через output-переменную.

---

> Проект предназначен для быстрого развёртывания облачного хранилища в рамках MLOps-процессов.